## 前情提要：
	系统包含两部分：文件系统和向量处理
	文件处理：
		1. 读取文件
		2. 文件渲染：统一各种格式的文件为一种格式、预览图保存在缓存、后续希望实现mac的预览功能。
		3. OCR
		4. 文件分片
		5. 向量提取
		6. 存入RAG的数据库
		
		

1. 前端代码在：
	C:\Users\Ldoud\AppData\Roaming\sqstudio\sqapp\app.sqs.com_9000\bus\
	kbase_core.sqapp；
2. 后端代码：
	1. 服务器：app.sqs.com 用户：user 密码：asdEWQ123 服务器的/home/user/DiMS-DAPP/docker_home/kbase_dms


操作记录：
sqstudio：
	登录admin、admin，需要断开代理；
	是一个用来管理和展示服务的工具，替代web页面，将前端页面嵌入到sqstudio中；
	可以可视化管理容器、镜像；



## 项目概述：
一个知识库管理系统，包含
	文档管理：上传、预览、删除
	向量化：自动/手动向量化文档
	智能搜索：关键词与向量搜索
	层级管理：知识库与文档的树形结构
核心亮点：
	支持多种文件格式；
	异步处理耗时任务
	

### 技术栈：
1. 后端服务：Flask REST API，处理文档管理、向量化、搜索
2. 前端应用：PySIde6桌面应用，提供文档管理界面
后端：
	Web框架：Flask+Flask-RESTful
	数据库：Mysql
	向量数据库：FAISS（Facebook AI Similarity Search）相似度搜索
	嵌入模型：bge-large-zh-v1.5
	文件处理：支持 PDF、Excel、Word 等格式转换
前端：
	GUI框架：PySide6（Qt for python)
	Web引擎：QWebEngineView（用于文档预览）
	异步通信：asyncio（异步处理I/O操作) + 自定义请求封装



### 文件上传流程
用户选择文件 
  → 前端调用 /bus/files/upload 
  → 后端保存文件到OSS 
  → 转换为PDF（如需要） 
  → 创建数据库记录（is_active=0） 
  → 返回文件信息
  
### 向量化流程：
用户输入关键词 
  → 选择搜索模式（关键词/向量） 
  → 调用 /bus/files/search 
  → 向量搜索：调用 search_docs_from_multi_kbase() 
  → 返回匹配文档列表 
  → 前端展示结果
  后端流程：
1. 调用外部解析服务（file_parse_url）
2. 调用 update_docs() 进行向量化
3. 删除旧的分块记录
4. 保存新的分块记录
5. 更新文档状态为已向量化